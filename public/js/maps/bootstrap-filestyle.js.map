{"version":3,"names":[],"mappings":"","sources":["bootstrap-filestyle.js"],"sourcesContent":["/*\r\n * bootstrap-filestyle\r\n * doc: http://markusslima.github.io/bootstrap-filestyle/\r\n * github: https://github.com/markusslima/bootstrap-filestyle\r\n *\r\n * Copyright (c) 2014 Markus Vinicius da Silva Lima\r\n * Version 1.2.1\r\n * Licensed under the MIT license.\r\n */\r\n(function($) {\"use strict\";\r\n\r\n    var nextId = 0;\r\n\r\n\tvar Filestyle = function(element, options) {\r\n\t\tthis.options = options;\r\n\t\tthis.$elementFilestyle = [];\r\n\t\tthis.$element = $(element);\r\n\t};\r\n\r\n\tFilestyle.prototype = {\r\n\t\tclear : function() {\r\n\t\t\tthis.$element.val('');\r\n\t\t\tthis.$elementFilestyle.find(':text').val('');\r\n\t\t\tthis.$elementFilestyle.find('.badge').remove();\r\n\t\t},\r\n\r\n\t\tdestroy : function() {\r\n\t\t\tthis.$element.removeAttr('style').removeData('filestyle');\r\n\t\t\tthis.$elementFilestyle.remove();\r\n\t\t},\r\n\r\n\t\tdisabled : function(value) {\r\n\t\t\tif (value === true) {\r\n\t\t\t\tif (!this.options.disabled) {\r\n\t\t\t\t\tthis.$element.attr('disabled', 'true');\r\n\t\t\t\t\tthis.$elementFilestyle.find('label').attr('disabled', 'true');\r\n\t\t\t\t\tthis.options.disabled = true;\r\n\t\t\t\t}\r\n\t\t\t} else if (value === false) {\r\n\t\t\t\tif (this.options.disabled) {\r\n\t\t\t\t\tthis.$element.removeAttr('disabled');\r\n\t\t\t\t\tthis.$elementFilestyle.find('label').removeAttr('disabled');\r\n\t\t\t\t\tthis.options.disabled = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn this.options.disabled;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuttonBefore : function(value) {\r\n\t\t\tif (value === true) {\r\n\t\t\t\tif (!this.options.buttonBefore) {\r\n\t\t\t\t\tthis.options.buttonBefore = true;\r\n\t\t\t\t\tif (this.options.input) {\r\n\t\t\t\t\t\tthis.$elementFilestyle.remove();\r\n\t\t\t\t\t\tthis.constructor();\r\n\t\t\t\t\t\tthis.pushNameFiles();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (value === false) {\r\n\t\t\t\tif (this.options.buttonBefore) {\r\n\t\t\t\t\tthis.options.buttonBefore = false;\r\n\t\t\t\t\tif (this.options.input) {\r\n\t\t\t\t\t\tthis.$elementFilestyle.remove();\r\n\t\t\t\t\t\tthis.constructor();\r\n\t\t\t\t\t\tthis.pushNameFiles();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn this.options.buttonBefore;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ticon : function(value) {\r\n\t\t\tif (value === true) {\r\n\t\t\t\tif (!this.options.icon) {\r\n\t\t\t\t\tthis.options.icon = true;\r\n\t\t\t\t\tthis.$elementFilestyle.find('label').prepend(this.htmlIcon());\r\n\t\t\t\t}\r\n\t\t\t} else if (value === false) {\r\n\t\t\t\tif (this.options.icon) {\r\n\t\t\t\t\tthis.options.icon = false;\r\n\t\t\t\t\tthis.$elementFilestyle.find('.icon-span-filestyle').remove();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn this.options.icon;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinput : function(value) {\r\n\t\t\tif (value === true) {\r\n\t\t\t\tif (!this.options.input) {\r\n\t\t\t\t\tthis.options.input = true;\r\n\r\n\t\t\t\t\tif (this.options.buttonBefore) {\r\n\t\t\t\t\t\tthis.$elementFilestyle.append(this.htmlInput());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$elementFilestyle.prepend(this.htmlInput());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.$elementFilestyle.find('.badge').remove();\r\n\r\n\t\t\t\t\tthis.pushNameFiles();\r\n\r\n\t\t\t\t\tthis.$elementFilestyle.find('.group-span-filestyle').addClass('input-group-btn');\r\n\t\t\t\t}\r\n\t\t\t} else if (value === false) {\r\n\t\t\t\tif (this.options.input) {\r\n\t\t\t\t\tthis.options.input = false;\r\n\t\t\t\t\tthis.$elementFilestyle.find(':text').remove();\r\n\t\t\t\t\tvar files = this.pushNameFiles();\r\n\t\t\t\t\tif (files.length > 0 && this.options.badge) {\r\n\t\t\t\t\t\tthis.$elementFilestyle.find('label').append(' <span class=\"badge\">' + files.length + '</span>');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$elementFilestyle.find('.group-span-filestyle').removeClass('input-group-btn');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn this.options.input;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsize : function(value) {\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tvar btn = this.$elementFilestyle.find('label'), input = this.$elementFilestyle.find('input');\r\n\r\n\t\t\t\tbtn.removeClass('btn-lg btn-sm');\r\n\t\t\t\tinput.removeClass('input-lg input-sm');\r\n\t\t\t\tif (value != 'nr') {\r\n\t\t\t\t\tbtn.addClass('btn-' + value);\r\n\t\t\t\t\tinput.addClass('input-' + value);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn this.options.size;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tplaceholder : function(value) {\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tthis.options.placeholder = value;\r\n\t\t\t\tthis.$elementFilestyle.find('input').attr('placeholder', value);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.options.placeholder;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuttonText : function(value) {\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tthis.options.buttonText = value;\r\n\t\t\t\tthis.$elementFilestyle.find('label .buttonText').html(this.options.buttonText);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.options.buttonText;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuttonTitle : function(value) {\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tthis.options.buttonTitle = value;\r\n\t\t\t\tthis.$elementFilestyle.find('label .buttonTitle').html(this.options.buttonTitle);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.options.buttonTitle;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuttonName : function(value) {\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tthis.options.buttonName = value;\r\n\t\t\t\tthis.$elementFilestyle.find('label').attr({\r\n\t\t\t\t\t'class' : 'btn ' + this.options.buttonName\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn this.options.buttonName;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ticonName : function(value) {\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tthis.$elementFilestyle.find('.icon-span-filestyle').attr({\r\n\t\t\t\t\t'class' : 'icon-span-filestyle ' + this.options.iconName\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn this.options.iconName;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thtmlIcon : function() {\r\n\t\t\tif (this.options.icon) {\r\n\t\t\t\treturn '<span class=\"icon-span-filestyle ' + this.options.iconName + '\"></span> ';\r\n\t\t\t} else {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thtmlInput : function() {\r\n\t\t\tif (this.options.input) {\r\n\t\t\t\treturn '<input type=\"text\" class=\"form-control ' + (this.options.size == 'nr' ? '' : 'input-' + this.options.size) + '\" placeholder=\"'+ this.options.placeholder +'\" disabled> ';\r\n\t\t\t} else {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// puts the name of the input files\r\n\t\t// return files\r\n\t\tpushNameFiles : function() {\r\n\t\t\tvar content = '', files = [];\r\n\t\t\tif (this.$element[0].files === undefined) {\r\n\t\t\t\tfiles[0] = {\r\n\t\t\t\t\t'name' : this.$element[0] && this.$element[0].value\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tfiles = this.$element[0].files;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < files.length; i++) {\r\n\t\t\t\tcontent += files[i].name.split(\"\\\\\").pop() + ', ';\r\n\t\t\t}\r\n\r\n\t\t\tif (content !== '') {\r\n\t\t\t\tthis.$elementFilestyle.find(':text').val(content.replace(/\\, $/g, ''));\r\n\t\t\t} else {\r\n\t\t\t\tthis.$elementFilestyle.find(':text').val('');\r\n\t\t\t}\r\n\r\n\t\t\treturn files;\r\n\t\t},\r\n\r\n\t\tconstructor : function() {\r\n\t\t\tvar _self = this,\r\n\t\t\t\thtml = '',\r\n\t\t\t\tid = _self.$element.attr('id'),\r\n\t\t\t\tfiles = [],\r\n\t\t\t\tbtn = '',\r\n\t\t\t\t$label;\r\n\r\n\t\t\tif (id === '' || !id) {\r\n\t\t\t\tid = 'filestyle-' + nextId;\r\n\t\t\t\t_self.$element.attr({\r\n\t\t\t\t\t'id' : id\r\n\t\t\t\t});\r\n                nextId++;\r\n\t\t\t}\r\n\r\n\t\t\tbtn = '<span class=\"group-span-filestyle ' + (_self.options.input ? 'input-group-btn' : '') + '\">' +\r\n\t\t\t  '<label for=\"' + id + '\" class=\"btn ' + _self.options.buttonName + ' ' +\r\n\t\t\t  '\" title=\"' + _self.options.buttonTitle + ' ' +\r\n\t\t\t(_self.options.size == 'nr' ? '' : 'btn-' + _self.options.size) + '\" ' +\r\n\t\t\t(_self.options.disabled ? 'disabled=\"true\"' : '') + '>' +\r\n\t\t\t_self.htmlIcon() + '<span class=\"buttonText\">' + _self.options.buttonText + '</span>' +\r\n\t\t\t  '</label>' +\r\n\t\t\t  '</span>';\r\n\r\n\t\t\thtml = _self.options.buttonBefore ? btn + _self.htmlInput() : _self.htmlInput() + btn;\r\n\r\n\t\t\t_self.$elementFilestyle = $('<div class=\"bootstrap-filestyle input-group\">' + html + '</div>');\r\n\t\t\t_self.$elementFilestyle.find('.group-span-filestyle').attr('tabindex', \"0\").keypress(function(e) {\r\n\t\t\tif (e.keyCode === 13 || e.charCode === 32) {\r\n\t\t\t\t_self.$elementFilestyle.find('label').click();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// hidding input file and add filestyle\r\n\t\t\t_self.$element.css({\r\n\t\t\t\t'position' : 'absolute',\r\n\t\t\t\t'clip' : 'rect(0px 0px 0px 0px)' // using 0px for work in IE8\r\n\t\t\t}).attr('tabindex', \"-1\").after(_self.$elementFilestyle);\r\n\r\n\t\t\tif (_self.options.disabled) {\r\n\t\t\t\t_self.$element.attr('disabled', 'true');\r\n\t\t\t}\r\n\r\n\t\t\t// Getting input file value\r\n\t\t\t_self.$element.change(function() {\r\n\t\t\t\tvar files = _self.pushNameFiles();\r\n\r\n\t\t\t\tif (_self.options.input == false && _self.options.badge) {\r\n\t\t\t\t\tif (_self.$elementFilestyle.find('.badge').length == 0) {\r\n\t\t\t\t\t\t_self.$elementFilestyle.find('label').append(' <span class=\"badge\">' + files.length + '</span>');\r\n\t\t\t\t\t} else if (files.length == 0) {\r\n\t\t\t\t\t\t_self.$elementFilestyle.find('.badge').remove();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_self.$elementFilestyle.find('.badge').html(files.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_self.$elementFilestyle.find('.badge').remove();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Check if browser is Firefox\r\n\t\t\tif (window.navigator.userAgent.search(/firefox/i) > -1) {\r\n\t\t\t\t// Simulating choose file for firefox\r\n\t\t\t\t_self.$elementFilestyle.find('label').click(function() {\r\n\t\t\t\t\t_self.$element.click();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tvar old = $.fn.filestyle;\r\n\r\n\t$.fn.filestyle = function(option, value) {\r\n\t\tvar get = '', element = this.each(function() {\r\n\t\t\tif ($(this).attr('type') === 'file') {\r\n\t\t\t\tvar $this = $(this), data = $this.data('filestyle'), options = $.extend({}, $.fn.filestyle.defaults, option, typeof option === 'object' && option);\r\n\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\t$this.data('filestyle', ( data = new Filestyle(this, options)));\r\n\t\t\t\t\tdata.constructor();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( typeof option === 'string') {\r\n\t\t\t\t\tget = data[option](value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( typeof get !== undefined) {\r\n\t\t\treturn get;\r\n\t\t} else {\r\n\t\t\treturn element;\r\n\t\t}\r\n\t};\r\n\r\n\t$.fn.filestyle.defaults = {\r\n\t\t'buttonText' : 'Choose file',\r\n\t\t'iconName' : 'glyphicon glyphicon-folder-open',\r\n\t\t'buttonName' : 'btn-default',\r\n\t\t'size' : 'nr',\r\n\t\t'input' : true,\r\n\t\t'badge' : true,\r\n\t\t'icon' : true,\r\n\t\t'buttonBefore' : false,\r\n\t\t'disabled' : false,\r\n\t\t'placeholder': ''\r\n\t};\r\n\r\n\t$.fn.filestyle.noConflict = function() {\r\n\t\t$.fn.filestyle = old;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t$(function() {\r\n\t\t$('.filestyle').each(function() {\r\n\t\t\tvar $this = $(this), options = {\r\n\r\n\t\t\t\t'input' : $this.attr('data-input') === 'false' ? false : true,\r\n\t\t\t\t'icon' : $this.attr('data-icon') === 'false' ? false : true,\r\n\t\t\t\t'buttonBefore' : $this.attr('data-buttonBefore') === 'true' ? true : false,\r\n\t\t\t\t'disabled' : $this.attr('data-disabled') === 'true' ? true : false,\r\n\t\t\t\t'size' : $this.attr('data-size'),\r\n\t\t\t\t'buttonText' : $this.attr('data-buttonText'),\r\n\t\t\t\t'buttonTitle' : $this.attr('data-buttonTitle'),\r\n\t\t\t\t'buttonName' : $this.attr('data-buttonName'),\r\n\t\t\t\t'iconName' : $this.attr('data-iconName'),\r\n\t\t\t\t'badge' : $this.attr('data-badge') === 'false' ? false : true,\r\n\t\t\t\t'placeholder': $this.attr('data-placeholder')\r\n\t\t\t};\r\n\r\n\t\t\t$this.filestyle(options);\r\n\t\t});\r\n\t});\r\n})(window.jQuery);\r\n"],"file":"bootstrap-filestyle.js","sourceRoot":"/source/"}